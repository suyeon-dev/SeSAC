<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìŠ¤ì¼€ì¤„ ë“±ë¡í•˜ê¸° (jQuery ì‹¤ìŠµ)</title>
    <!-- jQuery CDN-->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <style>
      /* ìŠ¤ì¼€ì¤„ ì…ë ¥ */
      #add {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }
      .add__button {
        width: 45px;
      }

      /* ë‹¬ë ¥ ì „ì²´ */
      .calender {
        width: 600px;
        height: 800px;
      }
      .calender__header {
        text-align: center;
        color: green;
      }
      .calender__grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        text-align: center;
      }
      .day {
        /* background-color: yellow; */
        height: 30px;
        line-height: 30px;
        padding: 10px;
        margin-bottom: 10px;
      }
      .date {
        height: 80px;
        border: 1px solid white;
        cursor: pointer;
        overflow-y: auto;
        overflow-x: hidden;
        max-height: 80px;
        max-width: 100%;
      }

      .event {
        font-size: 0.8rem;
        margin: 5px;
        color: black;
      }
      .date::-webkit-scrollbar {
        width: 4px;
      }
      .date::-webkit-scrollbar-thumb {
        background: darkgray;
        border-radius: 10px;
      }

      /* ë‹¬ë ¥ ê³µíœ´ì¼ */
      .calender__grid .day:nth-child(1) {
        color: red;
      }
      .calender__grid .date:nth-child(7n + 1) {
        color: red;
      }
      .calender__grid .day:nth-child(7) {
        color: blue;
      }
      .calender__grid .date:nth-child(7n) {
        color: blue;
      }
    </style>
  </head>
  <body>
    <!-- ìŠ¤ì¼€ì¤„ ë“±ë¡ -->
    <section id="add">
      <h3>ë‚´ ìŠ¤ì¼€ì¤„ ë“±ë¡í•˜ê¸°</h3>
      <div class="add__date">
        <label for="date">ë‚ ì§œ : </label>
        <input type="text" id="date" />
      </div>
      <div class="add__content">
        <label for="content">ë‚´ìš© : </label>
        <input type="text" id="content" />
      </div>
      <button class="add__button" type="submit">ì‘ì„±</button>
    </section>
    <!-- ë‹¬ë ¥ -->
    <section class="calender">
      <h2 class="calender__header">2024ë…„ 11ì›”</h2>
      <div class="calender__grid">
        <!-- ìš”ì¼-->
        <div class="day">ì¼</div>
        <div class="day">ì›”</div>
        <div class="day">í™”</div>
        <div class="day">ìˆ˜</div>
        <div class="day">ëª©</div>
        <div class="day">ê¸ˆ</div>
        <div class="day">í† </div>
        <!-- 1ì£¼ -->
        <div class="date"></div>
        <div class="date"></div>
        <div class="date"></div>
        <div class="date"></div>
        <div class="date"></div>
        <div class="date">1</div>
        <div class="date">2</div>
        <!-- 2ì£¼ -->
        <div class="date">3</div>
        <div class="date">4</div>
        <div class="date">5</div>
        <div class="date">6</div>
        <div class="date">7</div>
        <div class="date">8</div>
        <div class="date">9</div>
        <!-- 3ì£¼ -->
        <div class="date">10</div>
        <div class="date">11</div>
        <div class="date">12</div>
        <div class="date">13</div>
        <div class="date">14</div>
        <div class="date">15</div>
        <div class="date">16</div>
        <!-- 4ì£¼ -->
        <div class="date">17</div>
        <div class="date">18</div>
        <div class="date">19</div>
        <div class="date">20</div>
        <div class="date">21</div>
        <div class="date">22</div>
        <div class="date">23</div>
        <!-- 5ì£¼ -->
        <div class="date">24</div>
        <div class="date">25</div>
        <div class="date">26</div>
        <div class="date">27</div>
        <div class="date">28</div>
        <div class="date">29</div>
        <div class="date">30</div>
      </div>
    </section>
  </body>
  <script>
    //1. ë‹¬ë ¥ì˜ ë‚ ì§œ div í´ë¦­ ì‹œ ë‚ ì§œ Inputì— ë‚ ì§œê°€ ì±„ì›Œì§
    $('.date').click(function () {
      // í´ë¦­í•œ .date ìš”ì†Œê°€ event í´ë˜ìŠ¤ê°€ ì•„ë‹ ë•Œë§Œ í…ìŠ¤íŠ¸ inputì— ê°€ì ¸ì˜´
      const selectedDate = this.childNodes[0]?.nodeValue;
      if (selectedDate) {
        $('#date').val(selectedDate);
      } else {
        alert('ë‚ ì§œë¥¼ í´ë¦­í•˜ë©´ ìë™ìœ¼ë¡œ ì…ë ¥ì¹¸ì— ì±„ì›Œì§‘ë‹ˆë‹¤. ğŸ˜‰');
      }
    });

    //2. ë“±ë¡ ë²„íŠ¼ í´ë¦­ ì‹œ input ë‚´ìš© í•´ë‹¹ ë‚ ì§œ ì…€ì— ì¶”ê°€ë¨
    $('.add__button').click(function () {
      // ì…ë ¥ì°½ì—ì„œ ì„ íƒëœ ë‚ ì§œ & ë‚´ìš© ê°€ì ¸ì˜¤ê¸°
      const date = $('#date').val();
      const content = $('#content').val();

      if (date && content) {
        // ë‚ ì§œ ì…€ ì„ íƒ
        const targetCell = $('.date').filter(function () {
          return this.childNodes[0]?.nodeValue === date;
        });
        targetCell.append(`<p class='event'>âœ”ï¸${content}</p>`);
        // $(`.date:contains(${date})`).append(`<p class='event'>âœ”ï¸${content}</p>`) //ë§í•¨

        //ì…ë ¥ì¹¸ ì´ˆê¸°í™”
        $('#date').val('');
        $($('#content')).val('');
      } else {
        alert('ë‚ ì§œì™€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      }
    });
  </script>
</html>
